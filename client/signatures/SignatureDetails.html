<template name="SignatureDetails">
  <h1>ID: {{signature._id}}</h1>
  <div class="description">    
<!--     <h4>{{signature.name}}</h4> -->
    {{#if signature.desc}}     
      <i class="fa fa-pencil edit-description"></i>
      <p>{{signature.desc}}</p>
    {{else}}
      {{#if $.Session.get 'newDescription'}}
        {{> NewDescription}}
      {{else}}
        <button id="newDescriptionButton" title="Add new description">Add</button>
        <p>No description yet.</p>
      {{/if}}        
    {{/if}}


    <table class="table table-striped table-condensed">
      <thead>
        <tr>
            <th>Parameter</th>
            <th>Value</th>
        </tr>
      </thead>

      <tbody>
        <tr>
          <td>Name</td>
          <td>{{signature.name}}</td>
        </tr>
        <tr>
          <td>Description</td>
          <td>{{signature.desc}}</td>
        </tr>
        <tr>
          <td>Study ID</td>
          <td>{{signature.study_id}}</td>
        </tr>
        <tr>
            <td>Date created</td>
            <td>{{signature.date_created}}</td>
        </tr>
        <tr>
            <td>Date first modified</td>
            <td>{{signature.date_first_modified}}</td>
        </tr>
        <tr>
            <td>Entity Type</td>
            <td>{{signature.entity_type}}</td>
        </tr>
        <tr>
            <td>Source</td>
            <td>{{signature.source}}</td>
        </tr>
      </tbody>
    </table>

  </div>  

  <div class="description">    
    <h1>Entities</h1>
    {{#if entity_list}}
      <table class="table table-striped table-condensed">
      <thead>
        <tr>
            <th>Parameter</th>
            <th>Value</th>
        </tr>
      </thead>
      <tbody>

      {{#each entity_list}}
        <tr>
          <td>Entity ID</td>
          <td>{{_id}}</td>
        </tr>
        <tr>
            <td>pval</td>
            <td>{{pval}}</td>
        </tr>
        <tr>
            <td>name</td>
            <td>{{name}}</td>
        </tr>
        <tr>
            <td>fc</td>
            <td>{{fc}}</td>
        </tr>
      {{/each}}
      
        </tbody>
      </table>

      {{else}}
      <p>No entities associated with this signature.</p>
    {{/if}}
  </div>

  <div class="annotations">
    <h4>Annotations ({{signature.annotations.length}})</h4>    
    {{#if $.Session.get 'newAnnotation'}}
      {{> NewAnnotation }}
    {{else}}
      <button id="newAnnotationButton" title="Add new annotation">Add</button>
      <br>
    {{/if}}
    <br>
    {{#each signature.annotations}}
      {{> Annotation}}
    {{else}}
      <!-- <p>No annotations yet.</p> -->
    {{/each}}
  </div>    
  <div class="comments">
    <h4>Comments ({{signature.comments.length}})</h4>
    {{#if $.Session.get 'newComment'}}
      {{> NewComment }}
    {{else}}
      <button id="newCommentButton" title="Add new comment">Add</button>
      <br>
    {{/if}}
    <br>
    {{#each signature.comments}}
      {{> Comment}}
    {{else}}
      <!-- <p>No comments yet.</p> -->
    {{/each}}      
  </div>  
</template>